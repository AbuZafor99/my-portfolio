<!-- About Section -->
<section id="about" class="about">
    <h2 class="numbered-heading">About Me</h2>
    <div class="about-inner">
        <div class="about-text slide-right" id="aboutText">
            <!-- About text will be loaded dynamically -->
            <p style="color: #8892b0;">Loading...</p>
        </div>
        <div class="about-img slide-left">
            <div class="wrapper">
                <img class="img" id="aboutImage" src="assets/hero.png" alt="Profile Picture" />
            </div>
        </div>
    </div>
</section>

<script src="js/api.js"></script>
<script>
    // Load about section dynamically
    async function loadAbout() {
        const aboutText = document.getElementById('aboutText');
        const aboutImage = document.getElementById('aboutImage');

        try {
            const about = await PortfolioAPI.getAbout();

            if (!about) {
                aboutText.innerHTML = '<p style="color: #f87171;">Failed to load about section.</p>';
                return;
            }

            // Build description HTML
            let descriptionHTML = '';
            about.description.forEach(paragraph => {
                descriptionHTML += `<p>${paragraph}</p>`;
            });

            // Build technologies list
            const techListHTML = `
            <ul>
                ${about.technologies.map(tech => `<li>${tech}</li>`).join('')}
            </ul>
        `;

            aboutText.innerHTML = descriptionHTML + techListHTML;

            // Update image
            const imageUrl = PortfolioAPI.getImageURL(about.image);
            aboutImage.src = imageUrl;
            aboutImage.alt = about.name;
        } catch (error) {
            console.error('Failed to load about section:', error);
            aboutText.innerHTML = '<p style="color: #f87171;">Failed to load about section. Please try again later.</p>';
        }
    }

    // Load about section when the page loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadAbout);
    } else {
        loadAbout();
    }
</script>